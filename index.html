<!DOCTYPE html>
<html>
<head>
	
	<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="main.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</head>
<body>

	<ul class='tabHolder' id='tabs'>
		<li class='logo'><a href=''><img id='logo' src='images/signature.png' alt='Sam Hiner' height='45px'></a></i>
		<li><a href='#about' class='tab' id='aboutLink'>ABOUT</a></li>
		<li><a href='#projects' class='tab' id='projectsLink'>PROJECTS</a></li>
		<li><a href='#' class='tab' id='homeLink'>HOME</a></li>
		<!-- Material Design colors: 
		https://material.io/tools/color/#!/?view.left=0&view.right=0&primary.color=283593&secondary.color=64DD17-->
	</ul>

	<div id='pageHolder' style='width: 100%; overflow: hidden;'>
		<span id='homePage' class='cover' style='margin-left: 0%;'>
			<!--<img src='images/iguana.png' width='500px' style='align: left;'>-->
			hey
		</span>
		<span id='projectsPage' class='cover' style='margin-left: 100%;'>
			hi
		</span>
		<span id='aboutPage' class='cover' style='margin-left: 200%;'>
			ho
		</span>
	</div>

	<script>
		$(function() {
			function pageChange(tab) {
				document.getElementById(tab + 'Link').style.backgroundColor = '#001064';
				$('#' + tab).animate({marginLeft: '0%'}, 1000);
				console.log(tab)

				if (tab != 'home') {
					document.getElementById('homeLink').style.backgroundColor = '';
				}

				if (tab != 'projects') {
					document.getElementById('projectsLink').style.backgroundColor = '';
				}

				if (tab != 'about') {
					document.getElementById('aboutLink').style.backgroundColor = '';
				}
			}
		
			//find difference between old tab and current tab and move every page a proportional distance
			function tabChange(nowPage,nextPage) {
				var oldPage = nowPage || 'FIRST';
				var newPage = nextPage || window.location.hash;

				//home is '#' or '', which is not in list so is set to -1.
				//this way projects = home + 1, about = projects + 1, etc
				var tabs = ['#projects','#about'];
				var tabDistance = tabs.indexOf(newPage) - tabs.indexOf(oldPage);
				var tabPercent = '-=' + String(tabDistance * 100) + '%';
				console.log('oldfunc: ' + oldPage);
				console.log('newfunc: ' + newPage);
				console.log(tabPercent);

				//if you directly navigate to url oldPage is first and there is no animation
				if (oldPage == 'FIRST') {
					delay = 0;
					console.log('whooaaaa')
				} else {
					delay = 1000;
				}

				$('#homePage').animate({marginLeft: tabPercent}, delay);
				$('#projectsPage').animate({marginLeft: tabPercent}, delay);
				$('#aboutPage').animate({marginLeft: tabPercent}, delay);
			}

			//on start change the tab to the one matching your url and set as current url
			tabChange();
			window.currentPage = window.location.hash;

			function tabSwitch() {
				//switch string is a placeholder so it isn't seen as empty and doesn't get set to FIRST
				var pastPage = window.currentPage || 'switch';
				tabChange(pastPage,window.location.hash);
				console.log('old: ' + window.currentPage);
				window.currentPage = window.location.hash;
				console.log('new: ' + window.currentPage);
			}

			//whenever hash changes (you navigate to new jQuery element) change tab
			window.onhashchange = tabSwitch;
		
		});

	</script>
</body>
</html>